# 🧪 ThinkWise 플랫폼 테스트 가이드

## 준비사항

1. **개발 서버 실행 확인**
   - 브라우저에서 http://localhost:3001 접속
   - 서버가 실행 중이지 않으면: `pnpm dev`

2. **데이터베이스 초기화 완료**
   - ✅ 이미 완료됨 (prisma/dev.db 파일 생성됨)

## 📋 테스트 시나리오

### 1️⃣ 홈페이지 & 회원가입 테스트

#### 1.1 홈페이지 확인
1. http://localhost:3001 접속
2. 확인 사항:
   - ✅ "AI 시대, 생각하는 힘을 키워요" 제목 표시
   - ✅ 주요 기능 3가지 표시
   - ✅ 요금제 정보 (무료/프리미엄)
   - ✅ "지금 시작하기" 버튼

#### 1.2 회원가입 (학생)
1. 홈페이지에서 "지금 시작하기" 클릭
2. 또는 http://localhost:3001/signup 직접 접속
3. 입력:
   - 이름: `테스트학생`
   - 이메일: `student@test.com`
   - 가입 유형: **학생** 선택
   - 학년: `3학년` 선택
   - 비밀번호: `test1234`
   - 비밀번호 확인: `test1234`
   - 약관 동의 체크
4. "가입하기" 클릭
5. 예상 결과:
   - ✅ "회원가입이 완료되었습니다!" 알림
   - ✅ 자동으로 로그인 페이지로 이동

#### 1.3 회원가입 (교사)
1. http://localhost:3001/signup 접속
2. 입력:
   - 이름: `테스트선생님`
   - 이메일: `teacher@test.com`
   - 가입 유형: **선생님** 선택
   - 비밀번호: `test1234`
   - 비밀번호 확인: `test1234`
   - 약관 동의 체크
3. "가입하기" 클릭

### 2️⃣ 로그인 테스트

#### 2.1 학생 로그인
1. http://localhost:3001/login 접속
2. 입력:
   - 이메일: `student@test.com`
   - 비밀번호: `test1234`
3. "로그인" 클릭
4. 예상 결과:
   - ✅ "로그인 성공!" 알림
   - ✅ 대시보드로 이동 (http://localhost:3001/dashboard)

### 3️⃣ 대시보드 테스트

#### 3.1 학생 대시보드 확인
1. 로그인 후 자동으로 대시보드 표시
2. 확인 사항:
   - ✅ "안녕하세요, 테스트학생님!" 환영 메시지
   - ✅ 두 가지 문제 타입 카드:
     - 🔍 AI 정보 검증
     - 🧩 문제 분해하기
   - ✅ 오늘의 학습 통계 (푼 문제 0, 정답률 0%, 남은 문제 3)
   - ✅ 프리미엄 업그레이드 안내

#### 3.2 문제 목록 접근
1. "AI 정보 검증" 카드 클릭
2. 예상 결과:
   - ✅ 문제 목록 페이지로 이동
   - ⚠️ 현재는 "아직 준비된 문제가 없어요" 메시지 (정상)

### 4️⃣ AI 문제 생성 테스트

#### 4.1 Gemini API 키 설정
1. Google AI Studio 접속: https://makersuite.google.com/app/apikey
2. API 키 생성
3. `.env` 파일 수정:
   ```
   GEMINI_API_KEY="여기에-발급받은-키-입력"
   ```

#### 4.2 AI 검증 문제 생성
터미널에서 실행:
```bash
pnpm gen:problems -- --type=AI_VERIFICATION --count=3 --grade=3
```

예상 출력:
```
🚀 Starting problem generation...
Type: AI_VERIFICATION, Count: 3, Grade: 3

📝 Generating AI_VERIFICATION problem for grade 3...
✅ Saved problem: [문제 제목]
📝 Generating AI_VERIFICATION problem for grade 3...
✅ Saved problem: [문제 제목]
📝 Generating AI_VERIFICATION problem for grade 3...
✅ Saved problem: [문제 제목]

✨ Problem generation completed!
```

#### 4.3 문제 분해 문제 생성
```bash
pnpm gen:problems -- --type=PROBLEM_DECOMPOSITION --count=2 --grade=3
```

### 5️⃣ 관리자 대시보드 테스트

#### 5.1 관리자 페이지 접속
1. http://localhost:3001/admin 접속
2. 확인 사항:
   - ✅ 통계 카드 5개 표시
   - ✅ "검토 대기" 숫자가 생성한 문제 개수와 일치 (예: 5개)
   - ✅ 세 가지 메뉴 표시:
     - 📋 문제 검토
     - 📚 문제 관리
     - 📊 통계 및 분석

#### 5.2 문제 검토
1. "문제 검토" 카드 클릭
2. 확인 사항:
   - ✅ 왼쪽에 생성된 문제 목록 표시
   - ✅ 각 문제에 난이도, 타입, 학년 표시
3. 문제 하나 클릭
4. 확인 사항:
   - ✅ 오른쪽에 문제 상세 정보 표시
   - ✅ 문제 내용, 정답, 해설 표시
   - ✅ 단계 정보 표시 (문제 분해 타입인 경우)
   - ✅ 하단에 "❌ 거부" "✅ 승인" 버튼

#### 5.3 문제 승인
1. 문제 내용 확인 후 "✅ 승인" 클릭
2. 예상 결과:
   - ✅ "문제가 승인되어 활성화되었습니다!" 알림
   - ✅ 해당 문제가 목록에서 사라짐
3. 모든 문제 승인 완료 시:
   - ✅ "검토할 문제가 없습니다!" 메시지

### 6️⃣ 학생 문제 풀이 테스트

#### 6.1 문제 목록 확인
1. http://localhost:3001/dashboard 접속
2. "AI 정보 검증" 또는 "문제 분해하기" 클릭
3. 확인 사항:
   - ✅ 승인된 문제들이 목록에 표시됨
   - ✅ 각 문제에 난이도 배지, 주제, 도전 횟수 표시
   - ✅ 난이도 필터 작동 (전체/쉬움/보통/어려움)

#### 6.2 AI 검증 문제 풀이
1. AI 검증 문제 하나 클릭
2. 문제 읽기
3. 답변 입력란에 오류를 찾아 설명 작성
4. "제출하기" 클릭
5. 예상 결과:
   - ✅ 결과 화면 표시 (정답 또는 오답)
   - ✅ 정답 및 해설 표시
   - ✅ "문제 목록으로" / "대시보드로" 버튼

#### 6.3 문제 분해 문제 풀이
1. 문제 분해 문제 하나 클릭
2. 각 단계별로:
   - 지침 읽기
   - 필요시 "💡 힌트 보기" 클릭
   - 답변 입력
3. 모든 단계 작성 후 "제출하기" 클릭
4. 예상 결과:
   - ✅ 결과 화면 표시
   - ✅ 정답 및 해설 표시

### 7️⃣ 통계 확인

#### 7.1 학생 대시보드 통계
1. http://localhost:3001/dashboard 접속
2. "오늘의 학습" 섹션 확인:
   - ✅ "푼 문제" 숫자 업데이트됨
   - ✅ "정답률" 계산됨
   - ✅ "남은 문제" 업데이트됨 (무료: 3-푼문제수)

#### 7.2 관리자 통계
1. http://localhost:3001/admin 접속
2. 통계 카드 확인:
   - ✅ "총 문제 수" 정확함
   - ✅ "활성 문제" = 승인한 문제 개수
   - ✅ "총 학생 수" = 1 (테스트 계정)
   - ✅ "총 시도 횟수" = 학생이 푼 문제 수

## 🎯 주요 기능 체크리스트

### 인증 시스템
- [ ] 회원가입 (학생)
- [ ] 회원가입 (교사)
- [ ] 로그인
- [ ] 비밀번호 암호화

### AI 문제 생성
- [ ] Gemini API 연동
- [ ] AI 검증 문제 생성
- [ ] 문제 분해 문제 생성
- [ ] 데이터베이스 저장
- [ ] 생성 로그 기록

### 학생 기능
- [ ] 대시보드 표시
- [ ] 문제 목록 보기
- [ ] 문제 풀이
- [ ] 힌트 보기
- [ ] 답안 제출
- [ ] 즉시 채점
- [ ] 정답/해설 표시
- [ ] 학습 통계

### 관리자 기능
- [ ] 관리자 대시보드
- [ ] 통계 조회
- [ ] 문제 검토
- [ ] 문제 승인
- [ ] 문제 거부/삭제

## 🐛 문제 해결

### "아직 준비된 문제가 없어요"
→ AI 문제를 생성하고 관리자 페이지에서 승인하세요

### "GEMINI_API_KEY is not set"
→ .env 파일에 Google Gemini API 키를 추가하세요

### 데이터베이스 오류
→ `pnpm db:push` 명령어로 데이터베이스를 다시 초기화하세요

### 포트 3001이 사용 중
→ 다른 개발 서버를 종료하거나 포트를 변경하세요

## 📊 데이터베이스 확인

Prisma Studio로 데이터베이스 내용 확인:
```bash
pnpm db:studio
```
- http://localhost:5555 에서 데이터 확인 가능
- User, Problem, Attempt 등 테이블 조회

## 🎉 테스트 완료!

모든 테스트를 통과했다면 ThinkWise 플랫폼이 정상적으로 작동하고 있습니다!

다음 단계:
1. 실제 API 키로 더 많은 문제 생성
2. 다양한 학년/난이도로 테스트
3. 여러 학생 계정으로 테스트
4. 프리미엄 기능 추가
5. 배포 준비
